<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>NATION BUILDER VR - Enhanced Edition</title>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-title">NATION BUILDER VR</div>
        <div class="loading-subtitle" id="loadingSubtitle">INITIALIZING SIMULATION...</div>
        <div class="loading-progress-container">
            <div class="loading-progress-bar" id="loadingProgress"></div>
        </div>
        <div class="loading-stats">
            <div class="loading-stat">
                <div class="loading-stat-value" id="loadingObjects">0</div>
                <div class="loading-stat-label">Objects</div>
            </div>
            <div class="loading-stat">
                <div class="loading-stat-value" id="loadingTextures">0</div>
                <div class="loading-stat-label">Textures</div>
            </div>
            <div class="loading-stat">
                <div class="loading-stat-value" id="loadingModels">0</div>
                <div class="loading-stat-label">Models</div>
            </div>
        </div>
    </div>

    <!-- Canvas -->
    <canvas class="webgl"></canvas>

    <!-- VR HUD -->
    <div class="vr-hud">
        <!-- Enhanced Crosshair -->
        <div class="crosshair">
            <div class="crosshair-center"></div>
        </div>

        <!-- Stats Panel -->
        <div class="stats-panel">
            <div class="panel-title">üèõÔ∏è NATION STATUS</div>
            <div class="stat-row">
                <span class="stat-label">Year</span>
                <span class="stat-value" id="statYear">2024</span>
            </div>
            <div class="stat-row">
                <span class="stat-label">üë• Population</span>
                <span class="stat-value" id="statPopulation">1,000</span>
            </div>
            <div class="stat-row">
                <span class="stat-label">üí∞ GDP</span>
                <span class="stat-value" style="color: #00ff88;" id="statGDP">$55,000</span>
            </div>
            <div class="stat-row">
                <span class="stat-label">üòä Happiness</span>
                <div style="flex: 1; margin-left: 10px;">
                    <span class="stat-value" id="statHappiness">70%</span>
                    <div class="progress-bar">
                        <div class="progress-fill" id="happinessBar" style="width: 70%; background: linear-gradient(90deg, #ff3366, #ffcc00, #00ff88);"></div>
                    </div>
                </div>
            </div>
            <div class="stat-row">
                <span class="stat-label">üìä Unemployment</span>
                <span class="stat-value" style="color: #ff6b6b;" id="statUnemployment">5.0%</span>
            </div>
            <div class="stat-row">
                <span class="stat-label">üíµ Budget</span>
                <span class="stat-value" style="color: #ffcc00;" id="statBudget">$55,000</span>
            </div>
            <div class="stat-row">
                <span class="stat-label">‚≠ê Score</span>
                <span class="stat-value" style="color: #FFD700;" id="statScore">0</span>
            </div>
        </div>

        <!-- Mini Map -->
        <div class="mini-map">
            <div class="mini-map-title">üìç MAP</div>
            <canvas class="mini-map-canvas" id="miniMapCanvas"></canvas>
        </div>

        <!-- Policies Panel -->
        <div class="policies-panel">
            <div class="panel-title">‚öôÔ∏è POLICIES</div>
            <div class="policy-grid">
                <div class="policy-card" data-policy="openBorders">
                    <div class="policy-icon">üåê</div>
                    <div class="policy-name">Open Borders</div>
                    <div class="policy-cost">Cost: $500</div>
                </div>
                <div class="policy-card" data-policy="skilledWorker">
                    <div class="policy-icon">üíº</div>
                    <div class="policy-name">Skilled Workers</div>
                    <div class="policy-cost">Cost: $300</div>
                </div>
                <div class="policy-card" data-policy="refugee">
                    <div class="policy-icon">üõ°Ô∏è</div>
                    <div class="policy-name">Refugee Program</div>
                    <div class="policy-cost">Cost: $400</div>
                </div>
                <div class="policy-card" data-policy="family">
                    <div class="policy-icon">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</div>
                    <div class="policy-name">Family Reunion</div>
                    <div class="policy-cost">Cost: $200</div>
                </div>
                <div class="policy-card" data-policy="investor">
                    <div class="policy-icon">üí∞</div>
                    <div class="policy-name">Investor Visa</div>
                    <div class="policy-cost">Cost: $100</div>
                </div>
                <div class="policy-card" data-policy="strict">
                    <div class="policy-icon">üö´</div>
                    <div class="policy-name">Strict Control</div>
                    <div class="policy-cost">Cost: $300</div>
                </div>
            </div>
        </div>

        <!-- Year Progress -->
        <div class="year-progress">
            <div class="year-display" id="yearDisplay">1</div>
            <div class="progress-bar" style="height: 220px; margin: 0;">
                <div class="progress-fill" id="yearProgress" style="width: 100%; height: 0%; background: linear-gradient(to bottom, #00ff88, #ffcc00, #ff3366);"></div>
            </div>
        </div>

        <!-- FPS Counter -->
        <div class="fps-counter" id="fpsCounter">FPS: 60</div>

        <!-- Weather Indicator -->
        <div class="weather-indicator" id="weatherIndicator">‚òÄÔ∏è</div>

        <!-- Controls Help -->
        <div class="controls-help">
            <span class="controls-key">WASD</span> Move ‚Ä¢ 
            <span class="controls-key">Mouse</span> Look ‚Ä¢ 
            <span class="controls-key">E</span> Interact ‚Ä¢ 
            <span class="controls-key">Space</span> Jump ‚Ä¢ 
            <span class="controls-key">Tab</span> Menu ‚Ä¢ 
            <span class="controls-key">1-6</span> Quick Policy
        </div>
    </div>

    <!-- Menu -->
    <div class="vr-menu" id="vrMenu">
        <div class="menu-title">NATION BUILDER VR</div>
        <p style="color: #aaa; text-align: center; margin-bottom: 20px;">Select Difficulty:</p>
        <div class="difficulty-selector">
            <button class="difficulty-btn" data-difficulty="easy">Easy</button>
            <button class="difficulty-btn selected" data-difficulty="medium">Medium</button>
            <button class="difficulty-btn" data-difficulty="hard">Hard</button>
        </div>
        <button class="menu-button" onclick="startGame()">‚ñ∂ START SIMULATION</button>
        <button class="menu-button" onclick="showTutorial()">üìñ TUTORIAL</button>
        <button class="menu-button" onclick="showStats()">üìä STATISTICS</button>
        <button class="menu-button" onclick="toggleMenu()">‚úï CLOSE</button>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification"></div>

    <!-- Achievement -->
    <div class="achievement" id="achievement"></div>

    <!-- Tooltip -->
    <div class="tooltip" id="tooltip"></div>

    <!-- Three.js & GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js"></script>
    <script src="script.js"></script>
